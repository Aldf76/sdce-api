# ğŸš€ SGCE API â€“ Spring Boot + MySQL

Sistema de GestÃ£o de Consumo EnergÃ©tico (SGCE), desenvolvido com foco em boas prÃ¡ticas de arquitetura Java e integraÃ§Ã£o com banco de dados. A aplicaÃ§Ã£o oferece funcionalidades para cadastro de unidades consumidoras, registro de consumo mensal e visualizaÃ§Ã£o analÃ­tica dos dados.

> âœ… Projeto completo com estrutura de `DTOs`, `Services`, `Repositories`, `Testes`, e integraÃ§Ã£o com **React** no front-end.

---

## ğŸ”§ Tecnologias

- Java 17
- Spring Boot
- Spring Web
- Spring Data JPA
- MySQL
- H2 (para testes)
- Lombok
- Maven
- JUnit 5
- TestRestTemplate
- Postman (para testes manuais)
- IntelliJ IDEA

---

## ğŸ“‚ Estrutura do Projeto

```
sgce-api/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”‚   â””â”€â”€ com/
â”‚   â”‚   â”‚       â””â”€â”€ sgce/
â”‚   â”‚   â”‚           â””â”€â”€ sgce_api/
â”‚   â”‚   â”‚               â”œâ”€â”€ unidade/
â”‚   â”‚   â”‚               â””â”€â”€ consumo/
â”‚   â””â”€â”€ resources/
â”œâ”€â”€ pom.xml
â””â”€â”€ README.md
```

## ğŸ§  Fluxo de Funcionamento

### ğŸ” Cadastro e Consumo

1. **POST `/unidades`**  
   Cria uma nova unidade consumidora. Dados como nome, cidade e tipo (residencial, comercial etc) sÃ£o informados.

2. **POST `/consumos`**  
   Registra o consumo mensal de uma unidade, vinculando o `id` da unidade ao consumo em kWh e Ã  data de referÃªncia.

3. **GET `/consumos?unidadeId=X`**  
   Lista os consumos histÃ³ricos daquela unidade especÃ­fica.

4. **PUT `/unidades`**  
   Atualiza os dados da unidade (nome, cidade, tipo).

5. **DELETE `/unidades/{id}`**  
   Marca a unidade como inativa, sem removÃª-la do banco.

---

## ğŸ”„ Arquitetura

- `@RestController`: Controla as entradas da API.
- `@Service`: Onde estÃ¡ a regra de negÃ³cio (validaÃ§Ãµes, lÃ³gica de domÃ­nio).
- `@Repository`: Camada de acesso ao banco com Spring Data.
- `DTOs (records)`: Criados para transporte de dados sem expor a entidade JPA.

> âœ… Toda estrutura foi comentada com foco em aprendizado, explicando o uso de cada anotaÃ§Ã£o, mÃ©todo e padrÃ£o de projeto.

---

## ğŸ§ª Testes

O projeto implementa **dois tipos principais de testes**:

### 1. **Testes de IntegraÃ§Ã£o com API real (TestRestTemplate)**

Arquivo: `UnidadeControllerTest.java`

- Testa endpoints reais da API: cadastro, listagem, atualizaÃ§Ã£o e exclusÃ£o.
- Usa SpringBootTest com `webEnvironment = RANDOM_PORT`.

### 2. **Testes de Unidade**

Arquivo: `UnidadeTest.java`

- Valida mÃ©todos internos da entidade `Unidade`, como `excluir()` e `atualizarInformacoes()`.

### 3. **Teste de InicializaÃ§Ã£o**

Arquivo: `SgceApiApplicationTests.java`

- Verifica se a aplicaÃ§Ã£o sobe corretamente com todas as dependÃªncias e beans.

---

## â–¶ï¸ Como Executar

### ğŸ”§ PrÃ©-requisitos

- Java 17+
- MySQL rodando (ou configure H2 para testes)
- Maven instalado

### ğŸ“¥ InstalaÃ§Ã£o

```bash
# Clone o repositÃ³rio
git clone https://github.com/seu-usuario/sgce-api.git
cd sgce-api

# Instale as dependÃªncias
./mvnw clean install

# Inicie o servidor local
./mvnw spring-boot:run


ğŸ“¬ Autor
Desenvolvido por Felipe Medeiros 
ğŸ“ Estudante de AnÃ¡lise e Desenvolvimento de Sistemas E Desenvolvimento FullStack
ğŸ”— linkedin.com/in/seu-linkedin
ğŸ“« felipe@email.com
ğŸ“‚ Projeto back-end: GitHub - sgce-api
ğŸ“‚ Projeto front-end: GitHub - sgce-front

â„¹ï¸ Este projeto foi desenvolvido com propÃ³sito educacional e profissional, aplicando conceitos reais de arquitetura de software, testes automatizados e integraÃ§Ã£o com front-end React.